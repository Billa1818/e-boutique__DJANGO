{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Télécharger et Prévisualiser des Images</title>
    <link rel="stylesheet" href="{% static 'eboutique/css/mdf_art.css' %}">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.6/dist/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css" href="{% static 'eboutique/css/bootstrap.css' %}">
 
</head>
{% include "./header.html" %}<br><br><br><h4 class="container">Mettre a jour article:</h4>
<body><br><br><br><br><br>
   <script >
        document.addEventListener('DOMContentLoaded', function() {
    const inputs = document.querySelectorAll('input[type="file"]');
    inputs.forEach(input => {
        input.addEventListener('change', function() {
            const file = this.files[0];
            const preview = document.querySelector(`#preview${this.id.slice(-1)}`);
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                }
                reader.readAsDataURL(file);
            } else {
                preview.src = '#';
                preview.style.display = 'none';
            }
        });
    });
});

    </script>

  <div class="container">
      
   


      <form id="upload-form" method="POST" enctype="multipart/form-data" >
          <div class="photo-upload">
            
                {% csrf_token %}


            <div class="row">

        <div class="col-xl-4 col-lg-4 container-fluid " >

            <div class="row">
                
            <div class="container p-5" id="rrr">
                 <img id="preview1" src=" {{article.article_img.url}}  " alt="Aperçu Image 1" style="width: 100% ;height: 50% ;  border-radius: 10px; "> 
              <label for="image1"> </label>
            <input type="file" class="btn btn-primary btn-block"  id="image1" name="article_img" accept="image/*">

            </div>
            </div>

        </div>

        <div class="col-lx-7 col-lg-7 p-2" >
          <div class="blo">
            <p>
                
            </p><div class="row">
                    <div class="col-3">
                        <b>Nom: </b><input class="form-control" type="text" value="{{ article.article_title }}" name="nom">
                    </div>
                    <div class="col-3">
                        <b>Types: </b><input class="form-control" type="text" value="{{ article.article_type }}" name="type">
                    </div>
                    <div class="col-3">
                        <b>Prix: </b><input class="form-control" type=" " value="{{ article.article_price }}" name="prix">
                    </div>
                    <div class="col-3">
                        <b>Stock: </b><input class="form-control" type="number" value="{{ article.article_disp }}" name="stock">
                    </div>
                    
                </div>
     

            </p>
            <div class="infoo" >
                


                        <div class="infoo"> <b>Description:</b> <textarea class="form-control W-100" value="" name="desc">{{ article.article_content }}</textarea>  </div>





                    

             </div>

            </p>
            <div class="container" >
              
                <button href="" class="btn btn-secondary  btn-block  " id="" name="submit" >Metre a jour l'article</button>
                
            </div>
            
          </div>

        </div>
        
    </div>

     </div>

        
              
                 
            </div>
       
    </form>






  </div>

    <script src="script.js"></script>
</body>
{% include "./footer.html" %}
</html>
